using System;
using AutoMapper;
using PLSS.Models;
using PLSS.Models.ViewModel;

namespace PLSS
{
    public class AutoMapperConfig
    {
        public static void BuildMappings()
        {
            Mapper.CreateMap<User, ProfileUserViewModel>().ForAllMembers(opt=>opt.Ignore());
            Mapper.CreateMap<User, ProfileUserViewModel>()
                .ForMember(dest => dest.First, opt => opt.MapFrom(src=>src.FirstName))
                .ForMember(dest => dest.Last, opt => opt.MapFrom(src=>src.LastName))
                .ForMember(dest => dest.License, opt => opt.MapFrom(src=>src.SurveryorLicenseNumber))
                .ForMember(dest => dest.Email, opt => opt.MapFrom(src=>src.UserName))
                .ForMember(dest => dest.Base64Seal, opt => opt.ResolveUsing<Base64Converter>());

            Mapper.AssertConfigurationIsValid();
        } 
    }

    public class Base64Converter : ValueResolver<User, string>
    {
        protected override string ResolveCore(User source)
        {
            if (source.SurveyorSeal == null)
            {
                return "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";
            }

            return Convert.ToBase64String(source.SurveyorSeal);
        }
    }
}